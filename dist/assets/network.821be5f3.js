import{M as _}from"./mock.browser.esm.c440f803.js";import{C as x,s as F}from"./index.6923756b.js";import{a as w,c as k,l as C,n as j,o as $,f as P,e as f,h,w as m,g as M}from"./index.ce8c6609.js";import"./rgb.85527b54.js";import"./each.0594b2ed.js";function B(t){return t}function G(t){if(t==null)return B;var r,n,a=t.scale[0],s=t.scale[1],l=t.translate[0],p=t.translate[1];return function(u,d){d||(r=n=0);var i=2,e=u.length,o=new Array(e);for(o[0]=(r+=u[0])*a+l,o[1]=(n+=u[1])*s+p;i<e;)o[i]=u[i],++i;return o}}function L(t,r){for(var n,a=t.length,s=a-r;s<--a;)n=t[s],t[s++]=t[a],t[a]=n}function b(t,r){return r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(n){return v(t,n)})}:v(t,r)}function v(t,r){var n=r.id,a=r.bbox,s=r.properties==null?{}:r.properties,l=V(t,r);return n==null&&a==null?{type:"Feature",properties:s,geometry:l}:a==null?{type:"Feature",id:n,properties:s,geometry:l}:{type:"Feature",id:n,bbox:a,properties:s,geometry:l}}function V(t,r){var n=G(t.transform),a=t.arcs;function s(e,o){o.length&&o.pop();for(var c=a[e<0?~e:e],g=0,y=c.length;g<y;++g)o.push(n(c[g],g));e<0&&L(o,y)}function l(e){return n(e)}function p(e){for(var o=[],c=0,g=e.length;c<g;++c)s(e[c],o);return o.length<2&&o.push(o[0]),o}function u(e){for(var o=p(e);o.length<4;)o.push(o[0]);return o}function d(e){return e.map(u)}function i(e){var o=e.type,c;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(i)};case"Point":c=l(e.coordinates);break;case"MultiPoint":c=e.coordinates.map(l);break;case"LineString":c=p(e.arcs);break;case"MultiLineString":c=e.arcs.map(p);break;case"Polygon":c=d(e.arcs);break;case"MultiPolygon":c=e.arcs.map(d);break;default:return null}return{type:o,coordinates:c}}return i(r)}const S={setup(){const t=_.mock("@GUID"),r=k(null);return C(()=>{const n=new x({container:t,autoFit:!0});n.forceGraph().data({type:"fetch",value:"https://assets.antv.antgroup.com/g2/miserable.json"}).scale("color",{range:F}),n.render()}),j(()=>{r.value&&r.value.destroy()}),{chartContainer:t}}},T=["id"];function U(t,r,n,a,s,l){return $(),P("div",{id:a.chartContainer,style:{width:"100%",height:"320px"}},null,8,T)}var D=w(S,[["render",U]]);const I={components:{relation:D},setup(){const t=_.mock("@GUID"),r=k(null);return C(()=>{Promise.all([fetch("https://assets.antv.antgroup.com/g2/londonBoroughs.json").then(n=>n.json()),fetch("https://assets.antv.antgroup.com/g2/londonCentroids.json").then(n=>n.json()),fetch("https://assets.antv.antgroup.com/g2/londonTubeLines.json").then(n=>n.json())]).then(n=>{const[a,s,l]=n,p=b(a,a.objects.boroughs).features,u=b(l,l.objects.line).features,d=new x({container:t,autoFit:!0}),i=d.geoView();i.geoPath().data(p).style("fill","lightgray").style("stroke","white").style("strokeWidth",2),i.text().data(s).encode("x","cx").encode("y","cy").encode("text",e=>e.name.split(/\W/)[0]).style("fontSize",8).style("opacity",.6),i.geoPath().data(u).encode("color","id").encode("shape","hollow").scale("color",{domain:_.mock({"data|12":[{"key|+1":1,value(){return`\u4F20\u611F\u5668${this.key}`}}]}).data.map(e=>e.value),range:["rgb(137,78,36)","rgb(220,36,30)","rgb(255,206,0)","rgb(1,114,41)","rgb(0,175,173)","rgb(215,153,175)","rgb(106,114,120)","rgb(114,17,84)","rgb(0,0,0)","rgb(0,24,168)","rgb(0,160,226)","rgb(106,187,170)"]}),d.render()})}),j(()=>{r.value&&r.value.destroy()}),{title:document.title,chartContainer:t}}},N=["id"];function R(t,r,n,a,s,l){const p=f("page-header"),u=f("a-card"),d=f("a-col"),i=f("relation"),e=f("a-row"),o=f("page-layout");return $(),P("div",null,[h(p,{title:a.title,describe:"\u7528\u4E8E\u5C55\u793A\u57CE\u5E02\u5185\u8BBE\u5907\u7684\u6570\u91CF\u548C\u5206\u5E03\u60C5\u51B5"},null,8,["title"]),h(o,null,{default:m(()=>[h(e,{gutter:[10,10]},{default:m(()=>[h(d,{xs:24,sm:24,md:24,lg:12,xl:12},{default:m(()=>[h(u,null,{default:m(()=>[M("div",{id:a.chartContainer,style:{width:"100%",height:"500px"}},null,8,N)]),_:1})]),_:1}),h(d,{xs:24,sm:24,md:24,lg:12,xl:12},{default:m(()=>[h(u,null,{default:m(()=>[h(i,{style:{width:"100%",height:"500px"}})]),_:1})]),_:1})]),_:1})]),_:1})])}var H=w(I,[["render",R]]);export{H as default};
